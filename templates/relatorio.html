<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Resultado de Exame - Projeto Resgate GFTeam IAPC de Irajá</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&family=Inter:wght@400;500;600&display=swap');

    body {
      font-family: 'Inter', sans-serif;
      background-color: #0e2d26;
      color: #fff;
      margin: 0;
      padding: 0;
    }

    /* CAPA - AJUSTADO */
    .capa {
      /* ADICIONADO: Altura fixa para o container da imagem */
      height: 200px; 
      background-color: #0e2d26;
      text-align: center;
      border-bottom: 3px solid #FFD700;
      /* Opcional: centraliza a imagem verticalmente se ela não preencher tudo */
      display: flex;
      justify-content: center;
      align-items: center;
    }
    
    /* CAPA IMG - AJUSTADO */
    .capa img {
      width: 100%;
      /* A imagem vai preencher 100% da altura do container (200px) */
      height: 100%; 
      
      /* ADICIONADO: Esta é a mágica!
         Faz a imagem caber INTEIRA, mantendo a proporção,
         sem cortar e sem distorcer. */
      object-fit: contain; 
    }

    /* LOGOS ABAIXO DA CAPA */
    .logos {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 50px;
      margin-top: 20px;
      flex-wrap: wrap; 
    }
    .logos img {
      width: 130px;
      height: auto;
    }

    /* CONTEÚDO */
    .container {
      padding: 40px;
      max-width: 850px;
      margin: auto;
    }
    h3 {
      text-align: center;
      color: #FFD700;
      font-size: 24px;
      margin-bottom: 25px;
    }
    .info {
      font-size: 16px;
      line-height: 1.7;
      margin-bottom: 25px;
      word-break: break-word; 
    }
    .info strong { color: #FFD700; }

    .quadro-temas {
      background: rgba(255,255,255,0.05);
      border-radius: 8px;
      padding: 15px;
      margin: 20px 0;
      overflow-x: auto;
    }
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 8px; text-align: left; }
    th { color: #FFD700; border-bottom: 1px solid rgba(255,255,255,0.2); }

    .resultado-final {
      text-align: center;
      margin: 30px 0;
      padding: 20px;
      border-radius: 10px;
      font-size: 20px;
      font-weight: 700;
    }
    .aprovado { background: rgba(76,175,80,0.2); color: #4caf50; }
    .reprovado { background: rgba(178,34,34,0.2); color: #ff6b6b; }

    .obs {
      background: rgba(255,255,255,0.05);
      border-left: 4px solid #ffd700;
      padding: 10px 15px;
      margin-top: 30px;
      font-size: 15px;
      color: #ccc;
    }

    .assinatura {
      text-align: right;
      margin-top: 60px;
      color: #ccc;
      font-size: 14px;
    }
    .assinatura img {
      width: 150px;
      margin-bottom: 5px;
    }

    .rodape {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-top: 1px solid rgba(255,255,255,0.2);
      padding-top: 20px;
      margin-top: 40px;
      flex-wrap: wrap; 
      gap: 20px;
    }
    .codigo {
      font-size: 12px;
      color: #999;
      word-break: break-all;
    }
    .qr img {
      width: 90px;
      height: 90px;
    }

    /* ======================================== */
    /* Media Queries para Responsividade */
    /* ======================================== */

    /* Para telas menores que 768px (tablets e celulares) */
    @media (max-width: 768px) {
      .container {
        padding: 20px; 
      }
    }

    /* Para telas menores que 600px (celulares) - AJUSTADO */
    @media (max-width: 600px) {
      
      .capa {
        /* Reduz a altura da capa em celulares */
        height: 150px;
      }

      .logos {
        flex-direction: column;
        gap: 20px;
      }

      h3 {
        font-size: 20px;
      }
      .resultado-final {
        font-size: 18px;
      }

      .assinatura {
        text-align: center; 
      }

      .rodape {
        flex-direction: column; 
        align-items: center;
        text-align: center;
        gap: 25px;
      }

      .qr {
        margin-left: 0;
      }
    }
  </style>
</head>

<body>
  <div class="capa">
    <h1>Resultado de Exame<H1>
  </div>

  <div class="logos">
    <img src="imagens/logogfteam.png" alt="GFTeam IAPC de Irajá">
    <img src="imagens/logopr.png" alt="Projeto Resgate">
  </div>

  <div class="container">
    <h3>Dados do Exame</h3>
    <div class="info">
      <strong>Aluno:</strong> {{nome_aluno}}<br>
      <strong>E-mail:</strong> {{email}}<br>
      <strong>Faixa Atual:</strong> {{faixa_atual}}<br>
      <strong>Faixa Proposta:</strong> {{faixa_proposta}}<br>
      <strong>Professor Responsável:</strong> {{nome_professor}}<br>
      <strong>Data:</strong> {{data}}<br>
      <strong>Tempo Total:</strong> {{tempo_minutos}} min {{tempo_segundos}} s
    </div>

    <div class="quadro-temas">
      <table>
        <tr><th>Tema</th><th>Desempenho</th></tr>
        {% for tema, desempenho in desempenho_temas.items() %}
        <tr><td>{{tema}}</td><td>{{desempenho}}%</td></tr>
        {% endfor %}
      </table>
    </div>

    {% if aprovado %}
    <div class="resultado-final aprovado">
      ✅ APROVADO PARA {{faixa_proposta.upper()}}
    </div>
    {% else %}
    <div class="resultado-final reprovado">
      ❌ EXAME NÃO APROVADO — REFAZER EM 3 DIAS
    </div>
    {% endif %}

    {% if observacoes %}
    <div class="obs">
      <strong>Observações do Professor:</strong><br>
      {{observacoes}}
    </div>
    {% endif %}

    <div class="assinatura">
      <img src="{{assinatura_professor}}" alt="Assinatura do Professor"><br>
      {{nome_professor}}
    </div>

    <div class="rodape">
      <div class="codigo">
        Código de verificação: <strong>{{codigo_validacao}}</strong><br>
        Valide em: <em>https://quiz.projetoresgate.org/validar</em>
      </div>
      <div class="qr">
        <img src="{{qr_code}}" alt="QR Code de validação">
      </div>
    </div>
  </div>

</body>
</html>
